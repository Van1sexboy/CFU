#include <sstream>
#include <cmath>

Complex make_complex(std::string number) {
    Complex c;
    char sign;
    std::stringstream s(number);
    s >> c.re;
    if (isspace(s.peek())) s.ignore();
    s >> sign;
    if (isspace(s.peek())) s.ignore();
    s >> c.im;
    if (sign == '-' ) c.im = -c.im;
    return c;
}

Complex sum(Complex first, Complex second) {
    return {first.re + second.re, first.im + second.im};
}

Complex sub(Complex first, Complex second) {
    return {first.re - second.re, first.im - second.im};
}

Complex mul(Complex first, Complex second) {
    return { (first.re * second.re) - (first.im * second.im), (first.re * second.im) + (second.re * first.im) };
}

Complex div(Complex first, Complex second) {
    double denominator = second.re * second.re + second.im * second.im;
    return { (first.re * second.re + first.im * second.im)/denominator, (first.im * second.re - first.re * second.im)/denominator };
}

void print(Complex c) {
    if (c.im >= 0) std::cout << c.re << '+' << fabs(c.im) << 'j' << std::endl;
    else std::cout << c.re << c.im << 'j' << std::endl;
}

----------------------------------------------------------------------------------------------------------------------------------------------------------------------

Student make_student(std::string& line){
    Student res;
    size_t pos = line.find(';');
    res.name = line.substr(0, pos);
    res.group = line.substr(pos + 1);
    return res;
}

bool is_upper(const Student& a, const Student& b){
    if (a.group == b.group) return a.name < b.name;
    return a.group < b.group; 
}

void print(std::vector<Student> &students){
    std::string current_group = "";
    if (students.empty()) {std::cout << "Empty list!" << std::endl; return;}
    for(auto& i: students){
        if (i.group != current_group) {
            current_group = i.group;
            std::cout << current_group << std::endl;
        }
        std::cout << "- " << i.name << std::endl;
    }
}

----------------------------------------------------------------------------------------------------------------------------------------------------------------------
  #include <sstream>

  std::vector<std::string> split(const std::string& s, char delimiter){
    std::vector<std::string> result;
    std::stringstream ss(s);
    std::string part;

    while (std::getline(ss, part, delimiter)) {
        result.push_back(part);
    }

    return result;
}

Student make_student(std::string &line){
    Student st;
    std::vector<std::string> parts = split(line, ';');

    st.name = parts[0];
    st.group = parts[1];

    for (size_t i = 2; i + 2 < parts.size(); i += 3){
        Course c;
        c.name = parts[i];
        c.semester = std::stoi(parts[i+1]);
        c.finished = std::stoi(parts[i+2]);
        st.courses.push_back(c);  
    }
    return st;
}

bool is_upper(const Student &a, const Student &b){
    if (a.group == b.group) return a.name < b.name;
    return a.group < b.group;
}

bool is_debtor(const Student &a, const int &cur_semester, const int &max_debt){
    int debt_count = 0;
    for(const auto& course : a.courses){
        if (course.semester < cur_semester && !course.finished) debt_count ++;
    }
    return debt_count > max_debt;
}

void print(std::vector<Student> &expulsion_candidates){
    std::string current_group = "";
    if (expulsion_candidates.empty()){std::cout << "Empty list!" << std::endl; return;}
    for(auto &i : expulsion_candidates){
        if (i.group != current_group) {
            current_group = i.group;
            std::cout << current_group << std::endl;
        }
        std::cout << "- " << i.name << std::endl;
    }
}

----------------------------------------------------------------------------------------------------------------------------------------------------------------------

  package main
import (
	"encoding/json"
	"fmt"
	"os"
)

type Task struct {
	UserID    int    `json:"user_id"`
	Completed bool   `json:"completed"`
}

type Project struct {
	ProjectID int    `json:"project_id"`
	Tasks     []Task `json:"tasks"`
}

func main(){
	file, _ := os.Open("data.json")
	var projects []Project
	json.NewDecoder(file).Decode(&projects)
	var userID int
	fmt.Scan(&userID)
	count := 0 	
	for _, project := range projects {
	    for _, task := range project.Tasks {
	        if task.UserID == userID && task.Completed {
	            count++
	        }
	    }
	}
	fmt.Print(count)
}

----------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include "iostream"
#include "fstream"
#include "json.hpp"
using json = nlohmann::json;
using namespace std;

int main() {
	ifstream file("data.json");
	json data = json::parse(file);
	int user_id, count = 0;
	cin >> user_id;
    for (auto& project : data) {
        for (auto& task : project["tasks"]) {
            if (task["user_id"] == user_id && task["completed"]) {
                count++;
            }
        }
    }
    cout << count;
}

----------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include <fstream>
#include <iostream>
#include <string>
#include <vector>
#include <sstream>
#include <map>
#include <algorithm>

struct Passenger {
    int pclass;
    std::string name;
    std::string sex;
    int age;
};

std::string readcsv(std::stringstream &ss) {
    std::string field;
    if (ss.peek() == '"') {
        ss.get();
        char c;
        while (ss.get(c)) {
            if (c == '"') {
                if (ss.peek() == '"') {
                    field += '"';
                    ss.get();
                } else {
                    break;
                }
            } else {
                field += c;
            }
        }
        if (ss.peek() == ',') ss.get();
    } else {
        std::getline(ss, field, ',');
    }
    return field;
}

int main() {

    int userPclass;
    int userAge;
    std::cin >> userPclass >> userAge;

    std::vector<Passenger> passengers_vector;

    std::ifstream file("train.csv");
    if (!file.is_open()) return 1;
    std::string line;
    std::getline(file, line, '\r');

    auto trim = [](std::string &s){
        s.erase(0, s.find_first_not_of(" \t\n\r"));
        s.erase(s.find_last_not_of(" \t\n\r") + 1);
    };

    std::map<std::string, double> sorted_passengers;

    while (std::getline(file, line, '\r')) {
        if (!line.empty()) {
            if (!line.empty() && line.back() == '\n') line.pop_back();

            std::stringstream ss(line);
            Passenger p;
            std::string tmp;

            readcsv(ss); // скип айди
            readcsv(ss); // скип выжил/нет

            tmp = readcsv(ss); trim(tmp);
            try { p.pclass = tmp.empty() ? 0 : std::stoi(tmp); } 
            catch (const std::invalid_argument&) { p.pclass = 0; }

            p.name = readcsv(ss); trim(p.name);
            p.sex = readcsv(ss); trim(p.sex);

            tmp = readcsv(ss); trim(tmp);
            try { p.age = tmp.empty() ? 0.0 : std::stoi(tmp); } 
            catch (const std::invalid_argument&) { p.age = 0; }

            if ((p.age > userAge) && (p.pclass == userPclass) && (p.sex == "female")) {
               sorted_passengers[p.name] = p.age;
            }
        }
    }
    std::vector<std::pair<std::string, double>> vec(sorted_passengers.begin(), sorted_passengers.end());
    std::sort(vec.begin(), vec.end(), [](auto &a, auto &b) {
        if (a.second != b.second) 
            return a.second < b.second;
        return a.first < b.first; 
    });
    
    for (auto v : vec) {
        std::cout << v.first << std::endl;
    }
    file.close();
}
